<div class="list-container">
  @if (loading) {
    <div class="loading-state">
      <p>Carregando...</p>
    </div>
  }

  @if (!loading && data.length === 0) {
    <div class="empty-state">
      <p>Nenhum registro encontrado</p>
    </div>
  }

  @if (!loading && data.length > 0) {
    <div class="table-wrapper">
      <table class="data-table">
        <thead>
        <tr>
          @for (column of columns; track column.field) {
            <th>{{ column.header }}</th>
          }
        </tr>
        </thead>
        <tbody>
          @for (row of data; track row) {
            <tr>
              @for (column of columns; track column.field) {
                <td>{{ getCellValue(row, column) }}</td>
              }
            </tr>
          }
        </tbody>
      </table>

      @if (totalPages > 1 ) {
        <div class="pagination">
          <div class="pagination-controls">
            <button
              class="page-btn"
              (click)="onPageChange(currentPage - 1)"
              [disabled]="pageResponse?.first"
            >
              &lt;
            </button>

            @for (page of visiblePages; track page) {
              <button
                class="page-btn page-number"
                [class.active]="page === currentPage"
                (click)="onPageChange(page)"
              >
                {{ page }}
              </button>
            }

            <button
              class="page-btn"
              (click)="onPageChange(currentPage + 1)"
              [disabled]="pageResponse?.last"
            >
              &gt;
            </button>
          </div>
        </div>
      }
    </div>
  }
</div>
